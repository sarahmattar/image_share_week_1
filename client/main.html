<head>
	<title>image_share</title>
	<!-- Latest compiled and minified CSS -->
	<link
		rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
		integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu"
		crossorigin="anonymous"
	/>
</head>

<body>
	{{> image_add_form}}

	<h1>Welcome to image_share!</h1>

	<div class="container"> {{> images}} </div>
	<!-- Latest compiled and minified JavaScript -->
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
		integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
		crossorigin="anonymous"
	></script>
</body>

<template name="image_add_form">
	<div class="modal fade" id="image_add_form">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<div class="modal-title"></div>
				</div>
				<!-- / header -->
				<div class="modal-body">
					<form class="js-add-image">
						<input type="text" name="img_src" />
						<br /><input type="text" name="img_alt" />
						<button class="btn btn-success">save</button>
					</form>
				</div>
				<!-- / body -->
				<div class="modal-footer">
					<button class="btn btn-warning" data-dismiss="modal">
						cancel
					</button>
				</div>
				<!-- / footer -->
			</div>
			<!-- / modal content -->
		</div>
		<!-- / modal dialog -->
	</div>
	<!-- / modal fade, image add form -->
</template>

<template name="images">
	<button class="btn btn-success js-show-image-form">add image</button>
	<div class="row">
		{{#each images}}
		<div class="col-xs-12 col-md-3" id="{{ _id }}">
			<div class="thumbnail">
				<img class="js-image" src="{{ img_src }}" alt="{{ img_alt }}" />
				<div class="caption">
					<h3>Rating: {{ rating }}</h3>
					<p>{{ img_alt }}</p>
					<p>
						{{>starsRating mutable=true class="js-rate-image"
						id=_id}}
					</p>
					<button class="js-del-image btn btn-warning">delete</button>
				</div>
				<!-- / caption -->
			</div>
		</div>
		<!-- / col -->
		{{/each}}
	</div>
	<!-- / row -->
</template>
